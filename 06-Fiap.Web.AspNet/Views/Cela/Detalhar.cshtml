@model DetalheCelaViewModel

@{
    ViewData["Title"] = "Detalhar";
}

<h1>Cela: <span class="text-danger">@Model.Cela.Nome</span></h1>
<h4>Capacidade máxima:<span class="text-danger"> @Model.Cela.QuantMaxima</span> | Quantidade atual:<span class="text-danger">@Model.QuantidadePresidiarios</span></h4>
<h5>Ocupação: <span class="text-danger">@Model.Ocupacao%</span></h5>

<h2>Presidiários</h2>
<div class="row">
    @foreach (var item in Model.Presidiarios)
    {
        <div class="col-3 m-2">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h4 class="card-title text-danger">@item.Nome</h4>
                    <p class="card-text">
                        Nível: <b>@item.NivelEscolaridade</b><br /><br />
                        Data Entrada: <br /><b>@item.DataEntrada</b><br /><br />
                        Data Saída: <br /><b>@item.DataSaida</b><br /><br />
                        Saída Temporária: <b>@(item.SaidaTemporaria ? "Sim" : "Não")</b><br />
                    </p>
                    <button onclick="codigo.value" class="btn btn-primary" data-toggle="modal" data-target="#modalExemplo">Saída Temporária</button>
                </div>
            </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="modalExemplo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Título do modal</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Permitir saída temporária?
                    </div>
                    <div class="modal-footer">
                        <form action="PermitirSaida" method="post">
                            <input type="hidden" id="codigo" name="presidiario" />
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary" asp-action="PermitirSaida"
                                    asp-route-codigo="@item.PresidiarioId">
                                Permitir saída
                            </button>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>
    }


</div>




